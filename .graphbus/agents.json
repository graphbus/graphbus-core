[
  {
    "name": "ArbiterService",
    "module": "examples.hello_graphbus.agents.arbiter",
    "class_name": "ArbiterService",
    "source_file": "/home/ubuntu/workbench/graphbus-core/examples/hello_graphbus/agents/arbiter.py",
    "source_code": "\"\"\"\nArbiter agent for resolving conflicts in negotiation\n\"\"\"\n\nfrom graphbus_core.node_base import GraphBusNode\n\n\nclass ArbiterService(GraphBusNode):\n    \"\"\"\n    Special arbiter agent that resolves conflicts when other agents disagree.\n    \"\"\"\n\n    SYSTEM_PROMPT = \"\"\"\nYou are an impartial arbiter agent responsible for resolving conflicts during code negotiations.\n\nYour role:\n- Review proposals that have conflicting evaluations\n- Consider technical correctness, code quality, and system impact\n- Make fair, unbiased decisions based on engineering principles\n- Provide clear reasoning for your arbitration decisions\n\nYou should:\n- Favor changes that improve code quality without breaking functionality\n- Reject changes that introduce bugs or reduce maintainability\n- Consider the opinions of both accepting and rejecting agents\n- Be conservative - when in doubt, reject risky changes\n\"\"\"\n\n    IS_ARBITER = True  # Mark this as an arbiter agent\n\n    def __init__(self, name, bus=None, memory=None):\n        if not isinstance(name, str):\n            raise ValueError(f\"name must be a string, got {type(name).__name__}\")\n        if not name.strip():\n            raise ValueError(\"name must be a non-empty, non-whitespace string\")\n        super().__init__(bus, memory)\n",
    "system_prompt": {
      "text": "\nYou are an impartial arbiter agent responsible for resolving conflicts during code negotiations.\n\nYour role:\n- Review proposals that have conflicting evaluations\n- Consider technical correctness, code quality, and system impact\n- Make fair, unbiased decisions based on engineering principles\n- Provide clear reasoning for your arbitration decisions\n\nYou should:\n- Favor changes that improve code quality without breaking functionality\n- Reject changes that introduce bugs or reduce maintainability\n- Consider the opinions of both accepting and rejecting agents\n- Be conservative - when in doubt, reject risky changes\n",
      "role": null,
      "capabilities": []
    },
    "methods": [],
    "subscriptions": [],
    "dependencies": [],
    "is_arbiter": true,
    "metadata": {}
  },
  {
    "name": "HelloService",
    "module": "examples.hello_graphbus.agents.hello",
    "class_name": "HelloService",
    "source_file": "/home/ubuntu/workbench/graphbus-core/examples/hello_graphbus/agents/hello.py",
    "source_code": "\"\"\"\nHelloService - Generates greeting messages\n\"\"\"\n\nfrom graphbus_core import GraphBusNode, schema_method\n\n\nclass HelloService(GraphBusNode):\n    SYSTEM_PROMPT = \"\"\"\n    You generate greeting messages.\n    In Build Mode, you can negotiate with other services to improve\n    the greeting format and content.\n    \"\"\"\n\n    @schema_method(\n        input_schema={\"name\": str},\n        output_schema={\"message\": str}\n    )\n    def generate_message(self, name=\"World\"):\n        \"\"\"Generate a personalized greeting message.\"\"\"\n        if not isinstance(name, str) or not name.strip():\n            raise ValueError(\"'name' must be a non-empty string\")\n        return {\"message\": f\"Hello, {name}!\"}\n",
    "system_prompt": {
      "text": "\n    You generate greeting messages.\n    In Build Mode, you can negotiate with other services to improve\n    the greeting format and content.\n    ",
      "role": null,
      "capabilities": []
    },
    "methods": [
      {
        "name": "generate_message",
        "input_schema": {
          "fields": {
            "name": "str"
          },
          "description": null
        },
        "output_schema": {
          "fields": {
            "message": "str"
          },
          "description": null
        },
        "description": "Generate a personalized greeting message."
      }
    ],
    "subscriptions": [],
    "dependencies": [],
    "is_arbiter": false,
    "metadata": {}
  },
  {
    "name": "LoggerService",
    "module": "examples.hello_graphbus.agents.logger",
    "class_name": "LoggerService",
    "source_file": "/home/ubuntu/workbench/graphbus-core/examples/hello_graphbus/agents/logger.py",
    "source_code": "\"\"\"\nLoggerService - Logs events\n\"\"\"\n\nfrom graphbus_core import GraphBusNode, subscribe\n\n\nclass LoggerService(GraphBusNode):\n    SYSTEM_PROMPT = \"\"\"\n    You log events when greetings are generated.\n    In Build Mode, you can negotiate with other services about\n    what information should be logged and in what format.\n    \"\"\"\n\n    @subscribe(\"/Hello/MessageGenerated\")\n    def on_message_generated(self, event):\n        \"\"\"Handle message generated events.\"\"\"\n        name = event.get('name')\n        if not isinstance(name, str) or not name.strip():\n            raise ValueError(f\"Event 'name' must be a non-empty string, got: {name!r}\")\n        from datetime import datetime\n        timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n        print(f\"[LOG] [{timestamp}] Greeting generated: {event.get('message', 'unknown')}\")\n",
    "system_prompt": {
      "text": "\n    You log events when greetings are generated.\n    In Build Mode, you can negotiate with other services about\n    what information should be logged and in what format.\n    ",
      "role": null,
      "capabilities": []
    },
    "methods": [],
    "subscriptions": [
      {
        "node_name": "LoggerService",
        "topic": "/Hello/MessageGenerated",
        "handler_name": "on_message_generated"
      }
    ],
    "dependencies": [],
    "is_arbiter": false,
    "metadata": {}
  },
  {
    "name": "PrinterService",
    "module": "examples.hello_graphbus.agents.printer",
    "class_name": "PrinterService",
    "source_file": "/home/ubuntu/workbench/graphbus-core/examples/hello_graphbus/agents/printer.py",
    "source_code": "\"\"\"\nPrinterService - Prints messages to console\n\"\"\"\n\nfrom datetime import datetime\nfrom graphbus_core import GraphBusNode, schema_method\n\n\nclass PrinterService(GraphBusNode):\n    SYSTEM_PROMPT = \"\"\"\n    You print messages to the console.\n    In Build Mode, you can propose adding formatting capabilities\n    like colors or styling to improve output readability.\n    \"\"\"\n\n    @schema_method(\n        input_schema={\"message\": str},\n        output_schema={}\n    )\n    def print_message(self, message: str):\n        \"\"\"Print a message to the console.\"\"\"\n        if not isinstance(message, str) or not message.strip():\n            raise ValueError(\"message must be a non-empty string\")\n        from datetime import datetime\n        timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n        print(f\"[{timestamp}] {message}\")\n        return {}\n",
    "system_prompt": {
      "text": "\n    You print messages to the console.\n    In Build Mode, you can propose adding formatting capabilities\n    like colors or styling to improve output readability.\n    ",
      "role": null,
      "capabilities": []
    },
    "methods": [
      {
        "name": "print_message",
        "input_schema": {
          "fields": {
            "message": "str"
          },
          "description": null
        },
        "output_schema": {
          "fields": {},
          "description": null
        },
        "description": "Print a message to the console."
      }
    ],
    "subscriptions": [],
    "dependencies": [],
    "is_arbiter": false,
    "metadata": {}
  }
]